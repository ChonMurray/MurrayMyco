@import "tailwindcss";

:root {
  /* Base color definitions (single source of truth) */
  --fg-primary: #ffffff;
  --fg-secondary: #c7c7c7;
  --bg-light: #f6f7f9;
  --bg-dark: #16161d;

  /* Derived aliases used throughout the app */
  --background: var(--bg-dark);
  --foreground: var(--fg-primary);

  /* Derived utility tokens (computed from the four core colors) */
  --muted: color-mix(in srgb, var(--foreground) 20%, var(--background));
  --muted-foreground: color-mix(in srgb, var(--foreground) 60%, var(--background));
  --surface: color-mix(in srgb, var(--background) 95%, var(--fg-secondary) 5%);
  --surface-foreground: var(--foreground);
  --border: color-mix(in srgb, var(--foreground) 12%, var(--background));
  --ring: color-mix(in srgb, var(--foreground) 20%, transparent);
  /* Typography scale */
  --h1-size: clamp(48px, 6vw, 72px);
  --h2-size: clamp(32px, 4vw, 42px);
  --h3-size: clamp(24px, 3vw, 28px);
  --body-size: 16px;
  --body-line: 1.6;
  --caption-size: 14px;
  --label-size: 14px;
  --h1-weight: 700;
  --h2-weight: 600;
  --h3-weight: 500;
  --nav-weight: 500;
  --body-weight: 400;
  --label-weight: 500;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--fg-primary);
  --color-secondary: var(--fg-secondary);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-surface: var(--surface);
  --color-surface-foreground: var(--surface-foreground);
  --color-border: var(--border);
  --color-ring: var(--ring);
  --font-sans: var(--font-source-sans);
  --font-mono: var(--font-inter);
}

@media (prefers-color-scheme: light) {
  :root {
    --background: var(--bg-light);
    --foreground: var(--fg-primary);
    --muted: color-mix(in srgb, var(--foreground) 15%, var(--background));
    --muted-foreground: color-mix(in srgb, var(--foreground) 65%, var(--background));
    --surface: color-mix(in srgb, var(--background) 95%, var(--fg-secondary) 5%);
    --border: color-mix(in srgb, var(--foreground) 10%, var(--background));
    --ring: color-mix(in srgb, var(--foreground) 18%, transparent);
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-source-sans), ui-sans-serif, system-ui, -apple-system,
    Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial,
    "Apple Color Emoji", "Segoe UI Emoji";
  font-size: var(--body-size);
  line-height: var(--body-line);
  font-weight: var(--body-weight);
  /* Mobile optimizations */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  /* Prevent text size adjustment on orientation change */
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
  /* Improve scrolling on iOS */
  -webkit-overflow-scrolling: touch;
}

/* Global element defaults using unified palette */
a {
  color: var(--fg-primary);
  text-decoration-color: color-mix(in srgb, var(--fg-primary) 50%, transparent);
  /* Touch-friendly tap target */
  min-height: 44px;
  display: inline-flex;
  align-items: center;
}
hr, .border { border-color: var(--border); }
input, select, textarea {
  border-color: var(--border);
  outline-color: var(--ring);
  /* Touch-friendly inputs */
  min-height: 44px;
  font-size: 16px; /* Prevent zoom on iOS */
}
button {
  color: var(--background);
  background: var(--fg-primary);
  /* Touch-friendly buttons */
  min-height: 44px;
  padding: 0.5rem 1rem;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}
button:hover { filter: brightness(0.95); }
button:active { filter: brightness(0.9); }

/* Unify background container and canvas styles */
.myco-bg {
  opacity: attr(data-opacity number);
}
.myco-canvas {
  width: 100%;
  height: 100%;
  image-rendering: pixelated;
  background: transparent;
  display: block;
}

/* Heading hierarchy */
h1 {
  font-family: var(--font-inter);
  font-weight: var(--h1-weight);
  font-size: var(--h1-size);
}
h2 {
  font-family: var(--font-inter);
  font-weight: var(--h2-weight);
  font-size: var(--h2-size);
}
h3 {
  font-family: var(--font-inter);
  font-weight: var(--h3-weight);
  font-size: var(--h3-size);
}

/* Navigation semantics */
nav, .nav, .navbar {
  font-family: var(--font-inter);
  font-weight: var(--nav-weight);
}

/* Labels and small text */
label, .label {
  font-family: var(--font-source-sans);
  font-weight: var(--label-weight);
  font-size: var(--label-size);
}
small, .caption {
  font-size: var(--caption-size);
}
